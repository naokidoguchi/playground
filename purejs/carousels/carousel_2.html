<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>

<!-- CSS -->
<style>
* {
    margin: 0;
    padding: 0;
}
.viewArea {
    width: 500px;
    height: 280px;
    margin: 50px auto;
    overflow: hidden;
}
.imgs {
    width: 10000px;
}
.carousel-item {
    list-style-type: none;
    float: left;
}
.carousel-move {
    width: 10000px;
    -webkit-transition: transform 300ms ease-out;
    transition: transform 300ms ease-out;
}
.controlArea {
    width: 95px;
    height: 100px;
    margin: 0 auto;
    display: -webkit-flex;
    display: flex;
    justify-content: space-between;
    -webkit-justify-content: space-between;
}
.control-circle {
    list-style-type: none;
}
.control-circle:after {
    content: "○";
}
.current:after {
    content: "◉";
}
.prev {
    position: absolute;
    top: 160px;
    left: 280px;
    font-size: 40px;
    cursor: pointer;
}
.next {
    position: absolute;
    top: 160px;
    right: 280px;
    font-size: 40px;
    cursor: pointer;
}
</style>
<!-- /CSS -->

<!-- JavaScript -->
<script>
var imgs, imgLi, wait, move, cntr, elem;
var i = 0;
;(function(window) {

    function init() {
        imgs = document.getElementById('js-carousel');
        imgLi = document.getElementsByClassName('js-carousel-item');
        addElement();
        setCarouselEvent(imgLi.length, 0);
        document.getElementById('prev').onclick = function() {
            clickPrev();
        };
        document.getElementById('next').onclick = function() {
            clickNext();
        };
    }

    function addElement() {
        cntr = document.getElementById('js-page-control');
        for(var i = 0; i <= imgLi.length-1; i++) {
            elem = document.createElement('li'); 
            elem.className = "control-circle";
            cntr.appendChild(elem);
        }
    }

    function setCarouselEvent(max) {
        wait = imgs.getAttribute('data-carousel-wait') || 5000;
        if(i === max) {
            i = 0;
            cntr.children[0].setAttribute('class','control-circle');
        }
        if(i <= max) {
            setTimeout(function() {
                for(var r = 0; r <= imgLi.length-1; r++){
                    cntr.children[r].setAttribute('class','control-circle');
                }
                imgs.style.webkitTransform = 'translateX('+ -(500 * i) +'px)';
                cntr.children[i].setAttribute('class','control-circle current');
                setCarouselEvent(max);
            }, Number(wait));
        }
    }

    addEventListener('DOMContentLoaded', function() {
        init();
    });

})(window);

function clickPrev() {
    if(i <= imgLi.length-1 && 0 <= i) {
        imgs.style.webkitTransform = 'translateX('+ -(500 * i) +'px)';
        --i;
        console.log(i,imgs.style.webkitTransform);
    } else {
        i = imgLi.length-1;
        imgs.style.webkitTransform = 'translateX('+ -(imgLi.length-1) * 500 +'px)';
    }
}

function clickNext() {
    if(i < imgLi.length-1) {
        ++i;
        imgs.style.webkitTransform = 'translateX('+ -(500 * i) +'px)';  
        console.log(i,imgs.style.webkitTransform);
    } else {
        i = 0;
        imgs.style.webkitTransform = 'translateX('+ 0 +'px)'; 
    }
}
</script>
<!--/JavaScript-->

    <div class="viewArea">
        <ul id="js-carousel" class="carousel-move" data-carousel-wait="5000">
            <li class="carousel-item js-carousel-item"><img src="img/haro1.jpg" width="500" height="280" alt=""></li>
            <li class="carousel-item js-carousel-item"><img src="img/haro2.jpg" width="500" height="280" alt=""></li>
            <li class="carousel-item js-carousel-item"><img src="img/haro3.jpg" width="500" height="280" alt=""></li>
            <li class="carousel-item js-carousel-item"><img src="img/haro4.jpg" width="500" height="280" alt=""></li>
        </ul>
    </div>
    <ul class="controlArea" id="js-page-control">
    </ul>
    <div class="btnArea">
        <button id="prev" class="prev" onclick="clickPrev();">＜</button>
        <button id="next" class="next" onclick="clickNext();">＞</button>
    </div>
</body>
</html>